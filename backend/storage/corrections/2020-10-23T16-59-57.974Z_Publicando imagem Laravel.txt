{"github_link":"https://github.com/ramonmello/docker-laravel-mysql-redis-nginx","branch":"main","laravel_folder":"."}
Machine has been successfully cloned as "Alpine 3 Clone - 2020-10-23T16-59-57.974Z"
Started
Resume disabled by user, switching to high-performance, low-durability mode.
[Pipeline] Start of Pipeline
[Pipeline] node
Running on Jenkins in /tmp/build/test
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Declarative: Checkout SCM)
[Pipeline] checkout
[Pipeline] }
[Pipeline] // stage
[Pipeline] ansiColor
[Pipeline] {

[Pipeline] stage
[Pipeline] { (Git Clone)
[Pipeline] cleanWs
[WS-CLEANUP] Deleting project workspace...
[WS-CLEANUP] Deferred wipeout is used...
[WS-CLEANUP] done
[Pipeline] git
The recommended git tool is: NONE
No credentials specified
Cloning the remote Git repository
Cloning repository https://github.com/ramonmello/docker-laravel-mysql-redis-nginx
 > git init /tmp/build/test # timeout=10
Fetching upstream changes from https://github.com/ramonmello/docker-laravel-mysql-redis-nginx
 > git --version # timeout=10
 > git --version # 'git version 2.17.1'
 > git fetch --tags --progress -- https://github.com/ramonmello/docker-laravel-mysql-redis-nginx +refs/heads/*:refs/remotes/origin/* # timeout=10
 > git config remote.origin.url https://github.com/ramonmello/docker-laravel-mysql-redis-nginx # timeout=10
 > git config --add remote.origin.fetch +refs/heads/*:refs/remotes/origin/* # timeout=10
Avoid second fetch
 > git rev-parse refs/remotes/origin/main^{commit} # timeout=10
Checking out Revision 7d41eb7f3928e3dbc3f915b5a6744b5de4aace0c (refs/remotes/origin/main)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f 7d41eb7f3928e3dbc3f915b5a6744b5de4aace0c # timeout=10
 > git branch -a -v --no-abbrev # timeout=10
 > git checkout -b main 7d41eb7f3928e3dbc3f915b5a6744b5de4aace0c # timeout=10
Commit message: "add dockerize"
First time build. Skipping changelog.
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Check .docker/dbdata)
[Pipeline] dir
Running in /tmp/build/test
[Pipeline] {
[Pipeline] script
[Pipeline] {
[Pipeline] fileExists
[Pipeline] }
[Pipeline] // script
[Pipeline] }
[Pipeline] // dir
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Check vendor)
[Pipeline] dir
Running in /tmp/build/test
[Pipeline] {
[Pipeline] script
[Pipeline] {
[Pipeline] fileExists
[Pipeline] }
[Pipeline] // script
[Pipeline] }
[Pipeline] // dir
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Check .env.example and .env)
[Pipeline] dir
Running in /tmp/build/test
[Pipeline] {
[Pipeline] script
[Pipeline] {
[Pipeline] fileExists
[Pipeline] fileExists
[Pipeline] }
[Pipeline] // script
[Pipeline] }
[Pipeline] // dir
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Clean containers)
[Pipeline] sh
+ docker ps -a
CONTAINER ID        IMAGE                          COMMAND                  CREATED             STATUS              PORTS               NAMES
3870eaf6a6db        argentinaluiz/jenkins-runner   "/app/bin/jenkinsfilâ€¦"   41 seconds ago      Up 40 seconds                           jenkins-runner
[Pipeline] sh
+ wc -l
+ docker ps -a -q
+ num_containers=1
+ [ 1 -gt 1 ]
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Check image files)
[Pipeline] script
[Pipeline] {
[Pipeline] readFile
[Pipeline] sh
+ docker run -d ramonmello/laravel
Unable to find image 'ramonmello/laravel:latest' locally
latest: Pulling from ramonmello/laravel
e7c96db7181b: Pulling fs layer
7270d632124c: Pulling fs layer
2ccb07e9b7f7: Pulling fs layer
112aa0ae7f66: Pulling fs layer
447c10ce58af: Pulling fs layer
290595a2eede: Pulling fs layer
17b350aaf1c1: Pulling fs layer
cfab03b9f728: Pulling fs layer
6aad12fa76f6: Pulling fs layer
fd9c23956976: Pulling fs layer
60c3b0eb1f8a: Pulling fs layer
c4be0bdcae63: Pulling fs layer
e956073e8470: Pulling fs layer
eb0e5b85fc6a: Pulling fs layer
b341b5cb9d0a: Pulling fs layer
d92f633758e5: Pulling fs layer
170d50b53d4d: Pulling fs layer
af3d916c732b: Pulling fs layer
ac50f82adbc5: Pulling fs layer
112aa0ae7f66: Waiting
447c10ce58af: Waiting
290595a2eede: Waiting
17b350aaf1c1: Waiting
cfab03b9f728: Waiting
6aad12fa76f6: Waiting
fd9c23956976: Waiting
60c3b0eb1f8a: Waiting
c4be0bdcae63: Waiting
e956073e8470: Waiting
eb0e5b85fc6a: Waiting
b341b5cb9d0a: Waiting
d92f633758e5: Waiting
170d50b53d4d: Waiting
af3d916c732b: Waiting
ac50f82adbc5: Waiting
2ccb07e9b7f7: Verifying Checksum
2ccb07e9b7f7: Download complete
7270d632124c: Verifying Checksum
7270d632124c: Download complete
e7c96db7181b: Verifying Checksum
e7c96db7181b: Download complete
e7c96db7181b: Pull complete
112aa0ae7f66: Verifying Checksum
112aa0ae7f66: Download complete
7270d632124c: Pull complete
2ccb07e9b7f7: Pull complete
112aa0ae7f66: Pull complete
290595a2eede: Verifying Checksum
290595a2eede: Download complete
cfab03b9f728: Verifying Checksum
cfab03b9f728: Download complete
447c10ce58af: Verifying Checksum
447c10ce58af: Download complete
447c10ce58af: Pull complete
6aad12fa76f6: Verifying Checksum
6aad12fa76f6: Download complete
290595a2eede: Pull complete
fd9c23956976: Verifying Checksum
fd9c23956976: Download complete
17b350aaf1c1: Verifying Checksum
17b350aaf1c1: Download complete
60c3b0eb1f8a: Verifying Checksum
60c3b0eb1f8a: Download complete
17b350aaf1c1: Pull complete
e956073e8470: Verifying Checksum
e956073e8470: Download complete
cfab03b9f728: Pull complete
6aad12fa76f6: Pull complete
fd9c23956976: Pull complete
eb0e5b85fc6a: Verifying Checksum
eb0e5b85fc6a: Download complete
60c3b0eb1f8a: Pull complete
c4be0bdcae63: Verifying Checksum
c4be0bdcae63: Download complete
b341b5cb9d0a: Verifying Checksum
b341b5cb9d0a: Download complete
c4be0bdcae63: Pull complete
e956073e8470: Pull complete
eb0e5b85fc6a: Pull complete
b341b5cb9d0a: Pull complete
af3d916c732b: Verifying Checksum
af3d916c732b: Download complete
ac50f82adbc5: Verifying Checksum
ac50f82adbc5: Download complete
d92f633758e5: Verifying Checksum
d92f633758e5: Download complete
170d50b53d4d: Verifying Checksum
170d50b53d4d: Download complete
d92f633758e5: Pull complete
170d50b53d4d: Pull complete
af3d916c732b: Pull complete
ac50f82adbc5: Pull complete
Digest: sha256:104e66c264b9faaa360efb519a9d4f6b3b2e784201470e0f21a8b464fa839ece
Status: Downloaded newer image for ramonmello/laravel:latest
[Pipeline] echo
docker exec b6ed8f8654d154779e1913970eae077d6341ac711bf82b8a3034adbb359f0e8a ls -alR
[Pipeline] sh
+ docker exec b6ed8f8654d154779e1913970eae077d6341ac711bf82b8a3034adbb359f0e8a [ -f ./var/www.env ]
[Pipeline] step
[Text Finder] Searching console output...
[Text Finder] Finished searching for pattern '\.env exists in image' in console output.
[Text Finder] Setting build result to 'FAILURE'.
[Pipeline] findText
[Text Finder] Searching console output...
[Text Finder] Finished searching for pattern 'vendor exists in image' in console output.
[Text Finder] Setting build result to 'FAILURE'.
[Pipeline] sh
+ docker stop b6ed8f8654d154779e1913970eae077d6341ac711bf82b8a3034adbb359f0e8a
b6ed8f8654d154779e1913970eae077d6341ac711bf82b8a3034adbb359f0e8a
+ docker rm b6ed8f8654d154779e1913970eae077d6341ac711bf82b8a3034adbb359f0e8a
b6ed8f8654d154779e1913970eae077d6341ac711bf82b8a3034adbb359f0e8a
[Pipeline] }
[Pipeline] // script
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Docker Compose Build)
[Pipeline] dir
Running in /tmp/build/test
[Pipeline] {
[Pipeline] script
[Pipeline] {
[Pipeline] sh
+ chmod +x .docker/entrypoint.sh
[Pipeline] sh
+ chmod +x .docker/app/entrypoint.sh
chmod: cannot access '.docker/app/entrypoint.sh': No such file or directory
[Pipeline] }
[Pipeline] // script
[Pipeline] sh
+ docker-compose up -d --build
Creating network "test_app_network" with driver "bridge"
Building db
Step 1/2 : FROM mysql:5.7
5.7: Pulling from library/mysql
Digest: sha256:4d2b34e99c14edb99cdd95ddad4d9aa7ea3f2c4405ff0c3509a29dc40bcb10ef
Status: Downloaded newer image for mysql:5.7
 ---> 1b12f2e9257b
Step 2/2 : RUN usermod -u 1000 mysql
 ---> Running in 53a27636f80f
Removing intermediate container 53a27636f80f
 ---> 13f5c2058469

Successfully built 13f5c2058469
Successfully tagged test_db:latest
Pulling redis (redis:alpine)...
alpine: Pulling from library/redis
Digest: sha256:cac5bbb2a6dd455e503951d296e11966060bdc6e3be1eadc5551adde58052700
Status: Downloaded newer image for redis:alpine
Building app
Step 1/15 : FROM php:7.3.6-fpm-alpine3.9
7.3.6-fpm-alpine3.9: Pulling from library/php
Digest: sha256:e985eac009df5603958334320c4d2271ddfbd72ef0c593580f59dd8c9c71aaa0
Status: Downloaded newer image for php:7.3.6-fpm-alpine3.9
 ---> 7b1e87c5c636
Step 2/15 : RUN apk add --no-cache shadow
 ---> Running in e89eb2b9ba7c
fetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/x86_64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/x86_64/APKINDEX.tar.gz
(1/2) Installing linux-pam (1.3.0-r0)
(2/2) Installing shadow (4.5-r2)
Executing busybox-1.29.3-r10.trigger
OK: 20 MiB in 32 packages
Removing intermediate container e89eb2b9ba7c
 ---> b13a660f9629
Step 3/15 : RUN apk add --no-cache openssl bash mysql-client
 ---> Running in bc02f6c6381d
fetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/x86_64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/x86_64/APKINDEX.tar.gz
(1/7) Installing readline (7.0.003-r1)
(2/7) Installing bash (4.4.19-r1)
Executing bash-4.4.19-r1.post-install
(3/7) Installing mariadb-common (10.3.25-r0)
(4/7) Installing libgcc (8.3.0-r0)
(5/7) Installing libstdc++ (8.3.0-r0)
(6/7) Installing mariadb-client (10.3.25-r0)
(7/7) Installing mysql-client (10.3.25-r0)
Executing busybox-1.29.3-r10.trigger
OK: 53 MiB in 39 packages
Removing intermediate container bc02f6c6381d
 ---> c788049121f5
Step 4/15 : RUN docker-php-ext-install pdo pdo_mysql
 ---> Running in 04c60fe1fceb
fetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/x86_64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/x86_64/APKINDEX.tar.gz
(1/25) Upgrading musl (1.1.20-r4 -> 1.1.20-r5)
(2/25) Installing m4 (1.4.18-r1)
(3/25) Installing libbz2 (1.0.6-r7)
(4/25) Installing perl (5.26.3-r1)
(5/25) Installing autoconf (2.69-r2)
(6/25) Installing pkgconf (1.6.0-r0)
(7/25) Installing dpkg-dev (1.19.2-r0)
(8/25) Installing dpkg (1.19.2-r0)
(9/25) Installing libmagic (5.36-r1)
(10/25) Installing file (5.36-r1)
(11/25) Installing binutils (2.31.1-r2)
(12/25) Installing gmp (6.1.2-r1)
(13/25) Installing isl (0.18-r0)
(14/25) Installing libgomp (8.3.0-r0)
(15/25) Installing libatomic (8.3.0-r0)
(16/25) Installing mpfr3 (3.1.5-r1)
(17/25) Installing mpc1 (1.0.3-r1)
(18/25) Installing gcc (8.3.0-r0)
(19/25) Installing musl-dev (1.1.20-r5)
(20/25) Installing libc-dev (0.7.1-r0)
(21/25) Installing g++ (8.3.0-r0)
(22/25) Installing make (4.2.1-r2)
(23/25) Installing re2c (1.1.1-r0)
(24/25) Installing .phpize-deps (0)
(25/25) Upgrading musl-utils (1.1.20-r4 -> 1.1.20-r5)
Executing busybox-1.29.3-r10.trigger
OK: 252 MiB in 62 packages
Configuring for:
PHP Api Version:         20180731
Zend Module Api No:      20180731
Zend Extension Api No:   320180731
checking for grep that handles long lines and -e... /bin/grep
checking for egrep... /bin/grep -E
checking for a sed that does not truncate output... /bin/sed
checking for cc... cc
checking whether the C compiler works... yes
checking for C compiler default output file name... a.out
checking for suffix of executables... 
checking whether we are cross compiling... no
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether cc accepts -g... yes
checking for cc option to accept ISO C89... none needed
checking how to run the C preprocessor... cc -E
checking for icc... no
checking for suncc... no
checking whether cc understands -c and -o together... yes
checking for system library directory... lib
checking if compiler supports -R... no
checking if compiler supports -Wl,-rpath,... yes
checking build system type... x86_64-pc-linux-musl
checking host system type... x86_64-pc-linux-musl
checking target system type... x86_64-pc-linux-musl
checking for PHP prefix... /usr/local
checking for PHP includes... -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib
checking for PHP extension directory... /usr/local/lib/php/extensions/no-debug-non-zts-20180731
checking for PHP installed headers prefix... /usr/local/include/php
checking if debug is enabled... no
checking if zts is enabled... no
checking for re2c... re2c
checking for re2c version... 1.1.1 (ok)
checking for gawk... no
checking for nawk... no
checking for awk... awk
checking if awk is broken... no
checking whether to enable PDO support... yes, shared
checking for ld used by cc... /usr/x86_64-alpine-linux-musl/bin/ld
checking if the linker (/usr/x86_64-alpine-linux-musl/bin/ld) is GNU ld... yes
checking for /usr/x86_64-alpine-linux-musl/bin/ld option to reload object files... -r
checking for BSD-compatible nm... /usr/bin/nm -B
checking whether ln -s works... yes
checking how to recognize dependent libraries... pass_all
checking for ANSI C header files... yes
checking for sys/types.h... yes
checking for sys/stat.h... yes
checking for stdlib.h... yes
checking for string.h... yes
checking for memory.h... yes
checking for strings.h... yes
checking for inttypes.h... yes
checking for stdint.h... yes
checking for unistd.h... yes
checking dlfcn.h usability... yes
checking dlfcn.h presence... yes
checking for dlfcn.h... yes
checking the maximum length of command line arguments... 98304
checking command to parse /usr/bin/nm -B output from cc object... ok
checking for objdir... .libs
checking for ar... ar
checking for ranlib... ranlib
checking for strip... strip
checking if cc supports -fno-rtti -fno-exceptions... no
checking for cc option to produce PIC... -fPIC
checking if cc PIC flag -fPIC works... yes
checking if cc static flag -static works... yes
checking if cc supports -c -o file.o... yes
checking whether the cc linker (/usr/x86_64-alpine-linux-musl/bin/ld -m elf_x86_64) supports shared libraries... yes
checking whether -lc should be explicitly linked in... no
checking dynamic linker characteristics... GNU/Linux ld.so
checking how to hardcode library paths into programs... immediate
checking whether stripping libraries is possible... yes
checking if libtool supports shared libraries... yes
checking whether to build shared libraries... yes
checking whether to build static libraries... no

creating libtool
appending configuration tag "CXX" to libtool
configure: creating ./config.status
config.status: creating config.h
/bin/sh /usr/src/php/ext/pdo/libtool --mode=compile cc  -I. -I/usr/src/php/ext/pdo -DPHP_ATOM_INC -I/usr/src/php/ext/pdo/include -I/usr/src/php/ext/pdo/main -I/usr/src/php/ext/pdo -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/pdo/pdo.c -o pdo.lo 
mkdir .libs
 cc -I. -I/usr/src/php/ext/pdo -DPHP_ATOM_INC -I/usr/src/php/ext/pdo/include -I/usr/src/php/ext/pdo/main -I/usr/src/php/ext/pdo -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/pdo/pdo.c  -fPIC -DPIC -o .libs/pdo.o
/bin/sh /usr/src/php/ext/pdo/libtool --mode=compile cc  -I. -I/usr/src/php/ext/pdo -DPHP_ATOM_INC -I/usr/src/php/ext/pdo/include -I/usr/src/php/ext/pdo/main -I/usr/src/php/ext/pdo -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/pdo/pdo_dbh.c -o pdo_dbh.lo 
 cc -I. -I/usr/src/php/ext/pdo -DPHP_ATOM_INC -I/usr/src/php/ext/pdo/include -I/usr/src/php/ext/pdo/main -I/usr/src/php/ext/pdo -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/pdo/pdo_dbh.c  -fPIC -DPIC -o .libs/pdo_dbh.o
/bin/sh /usr/src/php/ext/pdo/libtool --mode=compile cc  -I. -I/usr/src/php/ext/pdo -DPHP_ATOM_INC -I/usr/src/php/ext/pdo/include -I/usr/src/php/ext/pdo/main -I/usr/src/php/ext/pdo -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/pdo/pdo_stmt.c -o pdo_stmt.lo 
 cc -I. -I/usr/src/php/ext/pdo -DPHP_ATOM_INC -I/usr/src/php/ext/pdo/include -I/usr/src/php/ext/pdo/main -I/usr/src/php/ext/pdo -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/pdo/pdo_stmt.c  -fPIC -DPIC -o .libs/pdo_stmt.o
/bin/sh /usr/src/php/ext/pdo/libtool --mode=compile cc  -I. -I/usr/src/php/ext/pdo -DPHP_ATOM_INC -I/usr/src/php/ext/pdo/include -I/usr/src/php/ext/pdo/main -I/usr/src/php/ext/pdo -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/pdo/pdo_sql_parser.c -o pdo_sql_parser.lo 
 cc -I. -I/usr/src/php/ext/pdo -DPHP_ATOM_INC -I/usr/src/php/ext/pdo/include -I/usr/src/php/ext/pdo/main -I/usr/src/php/ext/pdo -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/pdo/pdo_sql_parser.c  -fPIC -DPIC -o .libs/pdo_sql_parser.o
/bin/sh /usr/src/php/ext/pdo/libtool --mode=compile cc  -I. -I/usr/src/php/ext/pdo -DPHP_ATOM_INC -I/usr/src/php/ext/pdo/include -I/usr/src/php/ext/pdo/main -I/usr/src/php/ext/pdo -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/pdo/pdo_sqlstate.c -o pdo_sqlstate.lo 
 cc -I. -I/usr/src/php/ext/pdo -DPHP_ATOM_INC -I/usr/src/php/ext/pdo/include -I/usr/src/php/ext/pdo/main -I/usr/src/php/ext/pdo -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/pdo/pdo_sqlstate.c  -fPIC -DPIC -o .libs/pdo_sqlstate.o
/bin/sh /usr/src/php/ext/pdo/libtool --mode=link cc -DPHP_ATOM_INC -I/usr/src/php/ext/pdo/include -I/usr/src/php/ext/pdo/main -I/usr/src/php/ext/pdo -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2  -Wl,-O1 -Wl,--hash-style=both -pie  -o pdo.la -export-dynamic -avoid-version -prefer-pic -module -rpath /usr/src/php/ext/pdo/modules  pdo.lo pdo_dbh.lo pdo_stmt.lo pdo_sql_parser.lo pdo_sqlstate.lo 
cc -shared  .libs/pdo.o .libs/pdo_dbh.o .libs/pdo_stmt.o .libs/pdo_sql_parser.o .libs/pdo_sqlstate.o   -Wl,-O1 -Wl,--hash-style=both -Wl,-soname -Wl,pdo.so -o .libs/pdo.so
creating pdo.la
(cd .libs && rm -f pdo.la && ln -s ../pdo.la pdo.la)
/bin/sh /usr/src/php/ext/pdo/libtool --mode=install cp ./pdo.la /usr/src/php/ext/pdo/modules
cp ./.libs/pdo.so /usr/src/php/ext/pdo/modules/pdo.so
cp ./.libs/pdo.lai /usr/src/php/ext/pdo/modules/pdo.la
PATH="$PATH:/sbin" ldconfig -n /usr/src/php/ext/pdo/modules
----------------------------------------------------------------------
Libraries have been installed in:
   /usr/src/php/ext/pdo/modules

If you ever happen to want to link against installed libraries
in a given directory, LIBDIR, you must either use libtool, and
specify the full pathname of the library, or use the `-LLIBDIR'
flag during linking and do at least one of the following:
   - add LIBDIR to the `LD_LIBRARY_PATH' environment variable
     during execution
   - add LIBDIR to the `LD_RUN_PATH' environment variable
     during linking
   - use the `-Wl,--rpath -Wl,LIBDIR' linker flag

See any operating system documentation about shared libraries for
more information, such as the ld(1) and ld.so(8) manual pages.
----------------------------------------------------------------------

Build complete.
Don't forget to run 'make test'.

Installing shared extensions:     /usr/local/lib/php/extensions/no-debug-non-zts-20180731/
Installing header files:          /usr/local/include/php/
Installing PDO headers:           /usr/local/include/php/ext/pdo/
[91m
[0m[91mwarning: pdo (pdo.so) is already loaded!
[0m[91m
[0mfind . -name \*.gcno -o -name \*.gcda | xargs rm -f
find . -name \*.lo -o -name \*.o | xargs rm -f
find . -name \*.la -o -name \*.a | xargs rm -f
find . -name \*.so | xargs rm -f
find . -name .libs -a -type d|xargs rm -rf
rm -f libphp.la      modules/* libs/*
Configuring for:
PHP Api Version:         20180731
Zend Module Api No:      20180731
Zend Extension Api No:   320180731
checking for grep that handles long lines and -e... /bin/grep
checking for egrep... /bin/grep -E
checking for a sed that does not truncate output... /bin/sed
checking for cc... cc
checking whether the C compiler works... yes
checking for C compiler default output file name... a.out
checking for suffix of executables... 
checking whether we are cross compiling... no
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether cc accepts -g... yes
checking for cc option to accept ISO C89... none needed
checking how to run the C preprocessor... cc -E
checking for icc... no
checking for suncc... no
checking whether cc understands -c and -o together... yes
checking for system library directory... lib
checking if compiler supports -R... no
checking if compiler supports -Wl,-rpath,... yes
checking build system type... x86_64-pc-linux-musl
checking host system type... x86_64-pc-linux-musl
checking target system type... x86_64-pc-linux-musl
checking for PHP prefix... /usr/local
checking for PHP includes... -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib
checking for PHP extension directory... /usr/local/lib/php/extensions/no-debug-non-zts-20180731
checking for PHP installed headers prefix... /usr/local/include/php
checking if debug is enabled... no
checking if zts is enabled... no
checking for re2c... re2c
checking for re2c version... 1.1.1 (ok)
checking for gawk... no
checking for nawk... no
checking for awk... awk
checking if awk is broken... no
checking for MySQL support for PDO... yes, shared
checking for the location of libz... no
checking for MySQL UNIX socket location... 
checking for PDO includes... checking for PDO includes... /usr/local/include/php/ext
checking for ld used by cc... /usr/x86_64-alpine-linux-musl/bin/ld
checking if the linker (/usr/x86_64-alpine-linux-musl/bin/ld) is GNU ld... yes
checking for /usr/x86_64-alpine-linux-musl/bin/ld option to reload object files... -r
checking for BSD-compatible nm... /usr/bin/nm -B
checking whether ln -s works... yes
checking how to recognize dependent libraries... pass_all
checking for ANSI C header files... yes
checking for sys/types.h... yes
checking for sys/stat.h... yes
checking for stdlib.h... yes
checking for string.h... yes
checking for memory.h... yes
checking for strings.h... yes
checking for inttypes.h... yes
checking for stdint.h... yes
checking for unistd.h... yes
checking dlfcn.h usability... yes
checking dlfcn.h presence... yes
checking for dlfcn.h... yes
checking the maximum length of command line arguments... 98304
checking command to parse /usr/bin/nm -B output from cc object... ok
checking for objdir... .libs
checking for ar... ar
checking for ranlib... ranlib
checking for strip... strip
checking if cc supports -fno-rtti -fno-exceptions... no
checking for cc option to produce PIC... -fPIC
checking if cc PIC flag -fPIC works... yes
checking if cc static flag -static works... yes
checking if cc supports -c -o file.o... yes
checking whether the cc linker (/usr/x86_64-alpine-linux-musl/bin/ld -m elf_x86_64) supports shared libraries... yes
checking whether -lc should be explicitly linked in... no
checking dynamic linker characteristics... GNU/Linux ld.so
checking how to hardcode library paths into programs... immediate
checking whether stripping libraries is possible... yes
checking if libtool supports shared libraries... yes
checking whether to build shared libraries... yes
checking whether to build static libraries... no

creating libtool
appending configuration tag "CXX" to libtool
configure: creating ./config.status
config.status: creating config.h
/bin/sh /usr/src/php/ext/pdo_mysql/libtool --mode=compile cc -I/usr/local/include/php/ext -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/pdo_mysql -DPHP_ATOM_INC -I/usr/src/php/ext/pdo_mysql/include -I/usr/src/php/ext/pdo_mysql/main -I/usr/src/php/ext/pdo_mysql -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/pdo_mysql/pdo_mysql.c -o pdo_mysql.lo 
mkdir .libs
 cc -I/usr/local/include/php/ext -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/pdo_mysql -DPHP_ATOM_INC -I/usr/src/php/ext/pdo_mysql/include -I/usr/src/php/ext/pdo_mysql/main -I/usr/src/php/ext/pdo_mysql -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/pdo_mysql/pdo_mysql.c  -fPIC -DPIC -o .libs/pdo_mysql.o
/bin/sh /usr/src/php/ext/pdo_mysql/libtool --mode=compile cc -I/usr/local/include/php/ext -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/pdo_mysql -DPHP_ATOM_INC -I/usr/src/php/ext/pdo_mysql/include -I/usr/src/php/ext/pdo_mysql/main -I/usr/src/php/ext/pdo_mysql -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/pdo_mysql/mysql_driver.c -o mysql_driver.lo 
 cc -I/usr/local/include/php/ext -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/pdo_mysql -DPHP_ATOM_INC -I/usr/src/php/ext/pdo_mysql/include -I/usr/src/php/ext/pdo_mysql/main -I/usr/src/php/ext/pdo_mysql -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/pdo_mysql/mysql_driver.c  -fPIC -DPIC -o .libs/mysql_driver.o
/bin/sh /usr/src/php/ext/pdo_mysql/libtool --mode=compile cc -I/usr/local/include/php/ext -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/pdo_mysql -DPHP_ATOM_INC -I/usr/src/php/ext/pdo_mysql/include -I/usr/src/php/ext/pdo_mysql/main -I/usr/src/php/ext/pdo_mysql -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2   -c /usr/src/php/ext/pdo_mysql/mysql_statement.c -o mysql_statement.lo 
 cc -I/usr/local/include/php/ext -DZEND_ENABLE_STATIC_TSRMLS_CACHE=1 -I. -I/usr/src/php/ext/pdo_mysql -DPHP_ATOM_INC -I/usr/src/php/ext/pdo_mysql/include -I/usr/src/php/ext/pdo_mysql/main -I/usr/src/php/ext/pdo_mysql -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H -fstack-protector-strong -fpic -fpie -O2 -c /usr/src/php/ext/pdo_mysql/mysql_statement.c  -fPIC -DPIC -o .libs/mysql_statement.o
/bin/sh /usr/src/php/ext/pdo_mysql/libtool --mode=link cc -DPHP_ATOM_INC -I/usr/src/php/ext/pdo_mysql/include -I/usr/src/php/ext/pdo_mysql/main -I/usr/src/php/ext/pdo_mysql -I/usr/local/include/php -I/usr/local/include/php/main -I/usr/local/include/php/TSRM -I/usr/local/include/php/Zend -I/usr/local/include/php/ext -I/usr/local/include/php/ext/date/lib  -fstack-protector-strong -fpic -fpie -O2 -DHAVE_CONFIG_H  -fstack-protector-strong -fpic -fpie -O2  -Wl,-O1 -Wl,--hash-style=both -pie  -o pdo_mysql.la -export-dynamic -avoid-version -prefer-pic -module -rpath /usr/src/php/ext/pdo_mysql/modules  pdo_mysql.lo mysql_driver.lo mysql_statement.lo 
cc -shared  .libs/pdo_mysql.o .libs/mysql_driver.o .libs/mysql_statement.o   -Wl,-O1 -Wl,--hash-style=both -Wl,-soname -Wl,pdo_mysql.so -o .libs/pdo_mysql.so
creating pdo_mysql.la
(cd .libs && rm -f pdo_mysql.la && ln -s ../pdo_mysql.la pdo_mysql.la)
/bin/sh /usr/src/php/ext/pdo_mysql/libtool --mode=install cp ./pdo_mysql.la /usr/src/php/ext/pdo_mysql/modules
cp ./.libs/pdo_mysql.so /usr/src/php/ext/pdo_mysql/modules/pdo_mysql.so
cp ./.libs/pdo_mysql.lai /usr/src/php/ext/pdo_mysql/modules/pdo_mysql.la
PATH="$PATH:/sbin" ldconfig -n /usr/src/php/ext/pdo_mysql/modules
----------------------------------------------------------------------
Libraries have been installed in:
   /usr/src/php/ext/pdo_mysql/modules

If you ever happen to want to link against installed libraries
in a given directory, LIBDIR, you must either use libtool, and
specify the full pathname of the library, or use the `-LLIBDIR'
flag during linking and do at least one of the following:
   - add LIBDIR to the `LD_LIBRARY_PATH' environment variable
     during execution
   - add LIBDIR to the `LD_RUN_PATH' environment variable
     during linking
   - use the `-Wl,--rpath -Wl,LIBDIR' linker flag

See any operating system documentation about shared libraries for
more information, such as the ld(1) and ld.so(8) manual pages.
----------------------------------------------------------------------

Build complete.
Don't forget to run 'make test'.

Installing shared extensions:     /usr/local/lib/php/extensions/no-debug-non-zts-20180731/
find . -name \*.gcno -o -name \*.gcda | xargs rm -f
find . -name \*.lo -o -name \*.o | xargs rm -f
find . -name \*.la -o -name \*.a | xargs rm -f
find . -name \*.so | xargs rm -f
find . -name .libs -a -type d|xargs rm -rf
rm -f libphp.la      modules/* libs/*
[91mWARNING: [0m[91mIgnoring APKINDEX.b89edf6e.tar.gz: No such file or directory[0m[91m
[0m[91mWARNING: [0m[91mIgnoring APKINDEX.737f7e01.tar.gz: No such file or directory[0m[91m
[0m(1/23) Purging .phpize-deps (0)
(2/23) Purging autoconf (2.69-r2)
(3/23) Purging m4 (1.4.18-r1)
(4/23) Purging dpkg-dev (1.19.2-r0)
(5/23) Purging perl (5.26.3-r1)
(6/23) Purging dpkg (1.19.2-r0)
(7/23) Purging file (5.36-r1)
(8/23) Purging g++ (8.3.0-r0)
(9/23) Purging gcc (8.3.0-r0)
(10/23) Purging binutils (2.31.1-r2)
(11/23) Purging libatomic (8.3.0-r0)
(12/23) Purging libgomp (8.3.0-r0)
(13/23) Purging libc-dev (0.7.1-r0)
(14/23) Purging musl-dev (1.1.20-r5)
(15/23) Purging make (4.2.1-r2)
(16/23) Purging pkgconf (1.6.0-r0)
(17/23) Purging re2c (1.1.1-r0)
(18/23) Purging libbz2 (1.0.6-r7)
(19/23) Purging libmagic (5.36-r1)
(20/23) Purging mpc1 (1.0.3-r1)
(21/23) Purging mpfr3 (3.1.5-r1)
(22/23) Purging isl (0.18-r0)
(23/23) Purging gmp (6.1.2-r1)
Executing busybox-1.29.3-r10.trigger
OK: 53 MiB in 39 packages
Removing intermediate container 04c60fe1fceb
 ---> 3354d8791741
Step 5/15 : ENV DOCKERIZE_VERSION v0.6.1
 ---> Running in 6fd2b677a96a
Removing intermediate container 6fd2b677a96a
 ---> 90c9de79156e
Step 6/15 : RUN wget https://github.com/jwilder/dockerize/releases/download/$DOCKERIZE_VERSION/dockerize-alpine-linux-amd64-$DOCKERIZE_VERSION.tar.gz     && tar -C /usr/local/bin -xzvf dockerize-alpine-linux-amd64-$DOCKERIZE_VERSION.tar.gz     && rm dockerize-alpine-linux-amd64-$DOCKERIZE_VERSION.tar.gz
 ---> Running in a494ea0ccc2c
[91mConnecting to github.com (140.82.113.4:443)
[0m[91mConnecting to github-production-release-asset-2e65be.s3.amazonaws.com (52.217.18.108:443[0m[91m)
[0m[91mdockerize-alpine-lin [0m[91m 13% [0m[91m|****                            | [0m[91m 407k[0m[91m  0:00:06 ETA[0m[91m
[0m[91mdockerize-alpine-lin [0m[91m 37% [0m[91m|************                    | [0m[91m1103k[0m[91m  0:00:03 ETA[0m[91m
[0m[91mdockerize-alpine-lin [0m[91m 63% [0m[91m|********************            | [0m[91m1852k[0m[91m  0:00:01 ETA[0m[91m
[0m[91mdockerize-alpine-lin [0m[91m 78% [0m[91m|*************************       | [0m[91m2311k[0m[91m  0:00:01 ETA[0m[91m
[0m[91mdockerize-alpine-lin [0m[91m 89% [0m[91m|****************************    | [0m[91m2617k[0m[91m  0:00:00 ETA[0m[91m
[0m[91mdockerize-alpine-lin [0m[91m 97% [0m[91m|******************************* | [0m[91m2871k[0m[91m  0:00:00 ETA[0m[91m
[0m[91mdockerize-alpine-lin [0m[91m100% [0m[91m|********************************| [0m[91m2935k[0m[91m  0:00:00 ETA[0m[91m
[0m[91m
[0mdockerize
Removing intermediate container a494ea0ccc2c
 ---> ab9027193b1c
Step 7/15 : WORKDIR /var/www
 ---> Running in dab0aaf043b6
Removing intermediate container dab0aaf043b6
 ---> e641b3dc153c
Step 8/15 : RUN rm -rf /var/www/html
 ---> Running in 66c284a97040
Removing intermediate container 66c284a97040
 ---> 8b6180c1b4e9
Step 9/15 : RUN curl -sS https://getcomposer.org/installer | php -- --install-dir=/usr/local/bin --filename=composer
 ---> Running in 1947b9aabf3e
All settings correct for using Composer
Downloading...

Composer (version 1.10.15) successfully installed to: /usr/local/bin/composer
Use it: php /usr/local/bin/composer

Removing intermediate container 1947b9aabf3e
 ---> fa10831cad27
Step 10/15 : RUN chown -R www-data:www-data /var/www
 ---> Running in bc66d654622c
Removing intermediate container bc66d654622c
 ---> 281e8035b02d
Step 11/15 : RUN ln -s public html
 ---> Running in 8c44685f8b61
Removing intermediate container 8c44685f8b61
 ---> 112ba708f348
Step 12/15 : RUN usermod -u 1000 www-data
 ---> Running in ef27578559cf
Removing intermediate container ef27578559cf
 ---> 75b26e34b4dd
Step 13/15 : USER www-data
 ---> Running in b48d56089cf1
Removing intermediate container b48d56089cf1
 ---> 40f527f10675
Step 14/15 : EXPOSE 9000
 ---> Running in 9bc261694352
Removing intermediate container 9bc261694352
 ---> 2d149b52ef19
Step 15/15 : ENTRYPOINT ["php-fpm"]
 ---> Running in f1a985fc5e71
Removing intermediate container f1a985fc5e71
 ---> 592a964c775c

Successfully built 592a964c775c
Successfully tagged test_app:latest
Building nginx
Step 1/3 : FROM nginx:1.15.0-alpine
1.15.0-alpine: Pulling from library/nginx
Digest: sha256:4a85273d1e403fbf676960c0ad41b673c7b034204a48cb32779fbb2c18e3839d
Status: Downloaded newer image for nginx:1.15.0-alpine
 ---> bc7fdec94612
Step 2/3 : RUN rm /etc/nginx/conf.d/default.conf
 ---> Running in 15c695c3f0ae
Removing intermediate container 15c695c3f0ae
 ---> f6670a30b4a9
Step 3/3 : COPY ./nginx.conf /etc/nginx/conf.d
 ---> 3d43d8b7fce6

Successfully built 3d43d8b7fce6
Successfully tagged test_nginx:latest
Creating db ... 
Creating test_redis_1 ... 
[1A[2KCreating test_redis_1 ... [32mdone[0m[1B[2A[2KCreating db           ... [32mdone[0m[2BCreating app          ... 
[1A[2KCreating app          ... [32mdone[0m[1BCreating nginx        ... 
[1A[2KCreating nginx        ... [32mdone[0m[1B
[Pipeline] }
[Pipeline] // dir
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Prepare Laravel)
[Pipeline] dir
Running in /tmp/build/test
[Pipeline] {
[Pipeline] sh
+ docker-compose exec -T app cp .env.example .env
cp: can't stat '.env.example': No such file or directory
[Pipeline] }
[Pipeline] // dir
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Test port 8000)
Stage "Test port 8000" skipped due to earlier failure(s)
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Show welcome content)
Stage "Show welcome content" skipped due to earlier failure(s)
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Check migrations)
Stage "Check migrations" skipped due to earlier failure(s)
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Declarative: Post Actions)
[Pipeline] dir
Running in /tmp/build/test
[Pipeline] {
[Pipeline] sh
+ docker-compose logs
Attaching to nginx, app, test_redis_1, db
[36mapp      |[0m 2020/10/23 17:05:54 Waiting for: tcp://db:3306
[36mapp      |[0m 2020/10/23 17:05:54 Problem with dial: dial tcp 172.18.0.2:3306: connect: connection refused. Sleeping 1s
[36mapp      |[0m 2020/10/23 17:05:55 Problem with dial: dial tcp 172.18.0.2:3306: connect: connection refused. Sleeping 1s
[36mapp      |[0m 2020/10/23 17:05:56 Problem with dial: dial tcp 172.18.0.2:3306: connect: connection refused. Sleeping 1s
[36mapp      |[0m 2020/10/23 17:05:57 Problem with dial: dial tcp 172.18.0.2:3306: connect: connection refused. Sleeping 1s
[36mapp      |[0m 2020/10/23 17:05:58 Problem with dial: dial tcp 172.18.0.2:3306: connect: connection refused. Sleeping 1s
[36mapp      |[0m 2020/10/23 17:05:59 Problem with dial: dial tcp 172.18.0.2:3306: connect: connection refused. Sleeping 1s
[36mapp      |[0m 2020/10/23 17:06:00 Problem with dial: dial tcp 172.18.0.2:3306: connect: connection refused. Sleeping 1s
[33mdb       |[0m 2020-10-23 17:05:53+00:00 [Note] [Entrypoint]: Entrypoint script for MySQL Server 5.7.32-1debian10 started.
[33mdb       |[0m 2020-10-23 17:05:54+00:00 [Note] [Entrypoint]: Switching to dedicated user 'mysql'
[33mdb       |[0m 2020-10-23 17:05:54+00:00 [Note] [Entrypoint]: Entrypoint script for MySQL Server 5.7.32-1debian10 started.
[33mdb       |[0m 2020-10-23 17:05:54+00:00 [Note] [Entrypoint]: Initializing database files
[33mdb       |[0m 2020-10-23T17:05:54.109208Z 0 [Warning] TIMESTAMP with implicit DEFAULT value is deprecated. Please use --explicit_defaults_for_timestamp server option (see documentation for more details).
[33mdb       |[0m 2020-10-23T17:05:54.359893Z 0 [Warning] InnoDB: New log files created, LSN=45790
[33mdb       |[0m 2020-10-23T17:05:54.440027Z 0 [Warning] InnoDB: Creating foreign key constraint system tables.
[33mdb       |[0m 2020-10-23T17:05:54.551243Z 0 [Warning] No existing UUID has been found, so we assume that this is the first time that this server has been started. Generating a new UUID: 02ece097-1552-11eb-a098-0242ac120002.
[33mdb       |[0m 2020-10-23T17:05:54.569629Z 0 [Warning] Gtid table is not ready to be used. Table 'mysql.gtid_executed' cannot be opened.
[33mdb       |[0m 2020-10-23T17:05:56.398375Z 0 [Warning] CA certificate ca.pem is self signed.
[33mdb       |[0m 2020-10-23T17:05:56.596987Z 1 [Warning] root@localhost is created with an empty password ! Please consider switching off the --initialize-insecure option.
[35mredis_1  |[0m 1:C 23 Oct 2020 17:05:53.664 # oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
[35mredis_1  |[0m 1:C 23 Oct 2020 17:05:53.664 # Redis version=6.0.8, bits=64, commit=00000000, modified=0, pid=1, just started
[35mredis_1  |[0m 1:C 23 Oct 2020 17:05:53.664 # Warning: no config file specified, using the default config. In order to specify a config file use redis-server /path/to/redis.conf
[35mredis_1  |[0m 1:M 23 Oct 2020 17:05:53.665 * Running mode=standalone, port=6379.
[35mredis_1  |[0m 1:M 23 Oct 2020 17:05:53.666 # Server initialized
[35mredis_1  |[0m 1:M 23 Oct 2020 17:05:53.666 # WARNING overcommit_memory is set to 0! Background save may fail under low memory condition. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.
[35mredis_1  |[0m 1:M 23 Oct 2020 17:05:53.668 * Ready to accept connections
[Pipeline] sh
+ wc -l
+ docker ps -a -q
+ num_containers=5
+ [ 5 -gt 1 ]
+ docker ps -a
+ grep -v jenkins
+ awk NR>1 {print $1}
+ containers=ef0e98879a39
7e2ee31908cb
f3e0588a4aca
53ad1a7ee4a5
+ docker stop ef0e98879a39 7e2ee31908cb f3e0588a4aca 53ad1a7ee4a5
ef0e98879a39
7e2ee31908cb
f3e0588a4aca
53ad1a7ee4a5
+ docker rm ef0e98879a39 7e2ee31908cb f3e0588a4aca 53ad1a7ee4a5
ef0e98879a39
7e2ee31908cb
f3e0588a4aca
53ad1a7ee4a5
[Pipeline] }
[Pipeline] // dir
[Pipeline] }
[Pipeline] // stage
[Pipeline] }

[Pipeline] // ansiColor
[Pipeline] }
[Pipeline] // node
[Pipeline] End of Pipeline
ERROR: script returned exit code 1
Finished: FAILURE
